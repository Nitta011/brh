Códigos utilizados na semana 2

~~~MySQL
/* EXERCICIO RELATORIO DE DEPARTAMENTO */
SELECT NOME,SIGLA FROM DEPARTAMENTO
ORDER BY NOME;

/* EXERCICIO RELATORIO DE DEPENDENTES */
SELECT COLABORADOR.NOME AS 'NOME_COLABORADOR',DEPENDENTE.NOME AS 'NOME_DEPENDENTE', DEPENDENTE.DATA_NASCIMENTO, DEPENDENTE.PARENTESCO FROM DEPENDENTE, COLABORADOR
WHERE DEPENDENTE.COLABORADOR = COLABORADOR.MATRICULA
ORDER BY COLABORADOR.NOME
;

/* OU */

SELECT COLABORADOR.NOME AS 'NOME_COLABORADOR',DEPENDENTE.NOME AS 'NOME_DEPENDENTE', DEPENDENTE.DATA_NASCIMENTO, DEPENDENTE.PARENTESCO FROM DEPENDENTE INNER JOIN COLABORADOR
ON DEPENDENTE.COLABORADOR = COLABORADOR.MATRICULA
ORDER BY COLABORADOR.NOME;

/* EXERCICIO INSERIR NOVO COLABORADOR EM PROJETO */
 
SET FOREIGN_KEY_CHECKS = 0;
INSERT INTO COLABORADOR (MATRICULA, NOME, CPF, EMAIL_PESSOAL, EMAIL_CORPORATIVO, SALARIO, DEPARTAMENTO, CEP, COMPLEMENTO_ENDERECO)  VALUES (
'FU123', 'FULANO DE TAL', '605.828.819-35', 'FULANO@GMAIL.COM', 'FULANO@CORP.COM', '10000', 'DEPTI', '1234567891', 'AP1104'
);

INSERT INTO PROJETO (NOME,RESPONSAVEL,INICIO,FIM) VALUES(
'BI','FU123', '2022-08-01', '2023-01-01'
);

INSERT INTO TELEFONE_COLABORADOR (NUMERO,COLABORADOR,TIPO) VALUES(
'(61) 99999-9999', 'FU123', 'M'
);

 INSERT INTO PAPEL (NOME) VALUES(
 'ESPECIALISTA DE NEGÓCIOS');
 
 INSERT INTO ATRIBUICAO (projeto, colaborador, papel) VALUES (
 5, 'FU123', '8'
 );
 
 SET FOREIGN_KEY_CHECKS = 1;

/* EXERCICIO EXCLUIR O DEPARTAMENTO SECAP */

SELECT NOME, MATRICULA FROM COLABORADOR WHERE DEPARTAMENTO = 'SEPAC';

DELETE FROM ATRIBUICAO WHERE COLABORADOR IN ('H123', 'M123', 'R123', 'W123');

DELETE FROM TELEFONE_COLABORADOR WHERE COLABORADOR IN ('H123', 'M123', 'R123', 'W123');

DELETE FROM DEPENDENTE WHERE COLABORADOR IN ('H123', 'M123', 'R123', 'W123');

UPDATE DEPARTAMENTO SET CHEFE = 'A123' WHERE SIGLA = 'SECAP';

DELETE FROM COLABORADOR WHERE DEPARTAMENTO = 'SECAP';

DELETE FROM DEPARTAMENTO WHERE SIGLA = 'SECAP';

~~~

~~~SqlDeveloper
/* EXERCICIO RELATORIO DE DEPARTAMENTO - ORACLE */
SELECT NOME,SIGLA FROM BRH.DEPARTAMENTO;

/* EXERCICIO RELATORIO DE DEPENDENTES - ORACLE */
SELECT BRH.COLABORADOR.NOME AS NOME_COLABORADOR, BRH.DEPENDENTE.NOME AS NOME_DEPENDENTE,BRH.DEPENDENTE.DATA_NASCIMENTO, BRH.DEPENDENTE.PARENTESCO  FROM BRH.COLABORADOR, BRH.DEPENDENTE WHERE BRH.DEPENDENTE.COLABORADOR = BRH.COLABORADOR.MATRICULA ;

/* EXERCICIO INSERIR NOVO COLABORADOR - ORACLE */
INSERT INTO BRH.COLABORADOR (MATRICULA, NOME, CPF, EMAIL_PESSOAL, EMAIL_CORPORATIVO, SALARIO, DEPARTAMENTO, CEP, COMPLEMENTO_ENDERECO)  VALUES (
'FU123', 'FULANO DE TAL', '605.828.819-35', 'FULANO@GMAIL.COM', 'FULANO@CORP.COM', '10000', 'DEPTI', '87502-000', 'AP1104'
);

INSERT INTO BRH.ENDERECO (CEP,UF,CIDADE,BAIRRO,LOGRADOURO) VALUES (
'87502-000', 'PR', 'UMUARAMA', 'CENTRO', 'RUA MANAUS'
);

INSERT INTO BRH.PROJETO (NOME,RESPONSAVEL,INICIO,FIM) VALUES(
'BI','FU123', '01/08/2022', '01/01/2023'
);

INSERT INTO BRH.TELEFONE_COLABORADOR (NUMERO,COLABORADOR,TIPO) VALUES(
'(61) 99999-9999', 'FU123', 'M'
);

 INSERT INTO BRH.PAPEL (NOME) VALUES(
 'ESPECIALISTA DE NEGÓCIOS');
 
 INSERT INTO BRH.ATRIBUICAO (projeto, colaborador, papel) VALUES (
 5, 'FU123', '8'
 );
 
/* EXERCICIO RELATÓRIO DE CONTATOS */
SELECT BRH.COLABORADOR.NOME AS NOME_COLABORADOR, BRH.COLABORADOR.EMAIL_CORPORATIVO,BRH.TELEFONE_COLABORADOR.NUMERO FROM BRH.COLABORADOR INNER JOIN BRH.TELEFONE_COLABORADOR
ON BRH.COLABORADOR.MATRICULA = BRH.TELEFONE_COLABORADOR.COLABORADOR
WHERE BRH.TELEFONE_COLABORADOR.TIPO = 'M'
ORDER BY BRH.COLABORADOR.NOME   




/* EXERCICIO RELATÓRIO ANALITICO DE EQUIPES */
SELECT B.NOME NOME_DEPARTAMENTO,B.CHEFE CHEFE_DEPARTAMENTO, ALOCACAO.NOME,P.NOME NOME_PROJETO,PAP.NOME PAPEL,TC.NUMERO NUMERO, DEP.NOME DEPENDENTE FROM BRH.DEPARTAMENTO B
INNER JOIN BRH.COLABORADOR CHEFE
ON B.CHEFE = CHEFE.MATRICULA
INNER JOIN BRH.COLABORADOR ALOCACAO
ON B.SIGLA = ALOCACAO.DEPARTAMENTO
INNER JOIN BRH.ATRIBUICAO AL
ON AL.COLABORADOR = ALOCACAO.MATRICULA
INNER JOIN BRH.PROJETO P
ON P.ID = AL.PROJETO
INNER JOIN BRH.PAPEL PAP
ON PAP.ID = AL.PAPEL
INNER JOIN BRH.TELEFONE_COLABORADOR TC
ON TC.COLABORADOR = ALOCACAO.MATRICULA 
LEFT JOIN BRH.DEPENDENTE DEP
ON DEP.COLABORADOR = ALOCACAO.MATRICULA
/* PARA CONSULTAR SOMENTE O MOVEL 
WHERE TC.TIPO = 'M' */
/* PARA SABER SOMENTE O COMERCIAL
WHERE TC.TIPO = 'C' */
ORDER BY B.NOME, ALOCACAO.NOME
~~~
